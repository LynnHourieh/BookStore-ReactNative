{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport \"react-native-gesture-handler\";\nimport React, { useContext } from \"react\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { CartIcon } from \"./components/CartIcon\";\nimport Login from \"./app/Login\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ProductList from \"./screens/ProductList\";\nimport ProductDetails from \"./screens/ProductDetails\";\nimport { Store, StoreProvider } from \"./Store\";\nimport { Cart } from \"./screens/Cart\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { useState, useEffect } from \"react\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Stack = createStackNavigator();\nvar App = function App() {\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    userInfo = _useState2[0],\n    setUserInfo = _useState2[1];\n  useEffect(function () {\n    var fetchUserInfo = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          var storedUserInfo = yield AsyncStorage.getItem(\"userInfo\");\n          if (storedUserInfo) {\n            var parsedUserInfo = JSON.parse(storedUserInfo);\n            setUserInfo(parsedUserInfo);\n          }\n        } catch (error) {\n          console.error(\"Error fetching user info:\", error);\n        }\n      });\n      return function fetchUserInfo() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    fetchUserInfo();\n  }, []);\n  var removeUserInfo = function () {\n    var _ref2 = _asyncToGenerator(function* (navigation) {\n      try {\n        yield AsyncStorage.removeItem(\"userInfo\");\n        console.log(\"userInfo removed from AsyncStorage\");\n        navigation.navigate(\"Login\");\n      } catch (error) {\n        console.error(\"Error removing userInfo:\", error);\n      }\n    });\n    return function removeUserInfo(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsx(StoreProvider, {\n    children: _jsx(NavigationContainer, {\n      children: _jsxs(Stack.Navigator, {\n        children: [_jsx(Stack.Screen, {\n          name: \"Products\",\n          component: ProductList,\n          options: function options(_ref3) {\n            var navigation = _ref3.navigation;\n            return {\n              title: \"Online BookStore\",\n              headerTitleStyle: styles.headerTitle,\n              headerRight: function headerRight() {\n                return _jsxs(View, {\n                  style: {\n                    flexDirection: \"row\",\n                    marginRight: 10\n                  },\n                  children: [userInfo ? _jsx(Text, {\n                    style: styles.container,\n                    onPress: function onPress() {\n                      removeUserInfo(navigation);\n                    },\n                    children: \"LogOut\"\n                  }) : _jsx(Text, {\n                    style: styles.container,\n                    onPress: function onPress() {\n                      navigation.navigate(\"Login\");\n                    },\n                    children: \"Login\"\n                  }), _jsx(CartIcon, {\n                    navigation: navigation\n                  })]\n                });\n              }\n            };\n          }\n        }), _jsx(Stack.Screen, {\n          name: \"ProductDetails\",\n          component: ProductDetails,\n          options: function options(_ref4) {\n            var navigation = _ref4.navigation;\n            return {\n              title: \"Product details\",\n              headerTitleStyle: styles.headerTitle,\n              headerRight: function headerRight() {\n                return _jsxs(View, {\n                  style: {\n                    flexDirection: \"row\",\n                    marginRight: 10\n                  },\n                  children: [userInfo ? _jsx(Text, {\n                    style: styles.container,\n                    onPress: function onPress() {\n                      removeUserInfo(navigation);\n                    },\n                    children: \"LogOut\"\n                  }) : _jsx(Text, {\n                    style: styles.container,\n                    onPress: function onPress() {\n                      navigation.navigate(\"Login\");\n                    },\n                    children: \"Login\"\n                  }), _jsx(CartIcon, {\n                    navigation: navigation\n                  })]\n                });\n              }\n            };\n          }\n        }), _jsx(Stack.Screen, {\n          name: \"Cart\",\n          component: Cart,\n          options: function options(_ref5) {\n            var navigation = _ref5.navigation;\n            return {\n              title: \"My Cart\",\n              headerTitleStyle: styles.headerTitle\n            };\n          }\n        }), _jsx(Stack.Screen, {\n          name: \"Login\",\n          component: Login,\n          options: function options(_ref6) {\n            var navigation = _ref6.navigation;\n            return {\n              title: \"Login\",\n              headerTitleStyle: styles.headerTitle,\n              headerRight: function headerRight() {\n                return _jsx(View, {\n                  style: {\n                    flexDirection: \"row\",\n                    marginRight: 10\n                  },\n                  children: _jsx(CartIcon, {\n                    navigation: navigation\n                  })\n                });\n              }\n            };\n          }\n        })]\n      })\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  headerTitle: {\n    fontSize: 20\n  },\n  container: {\n    marginHorizontal: 8,\n    backgroundColor: \"#007bff\",\n    height: 32,\n    padding: 6,\n    borderRadius: 32 / 2,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    color: \"white\",\n    fontWeight: \"bold\"\n  }\n});\nexport default App;","map":{"version":3,"names":["React","useContext","NavigationContainer","createStackNavigator","StyleSheet","CartIcon","Login","View","Text","ProductList","ProductDetails","Store","StoreProvider","Cart","AsyncStorage","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Stack","App","_useState","_useState2","_slicedToArray","userInfo","setUserInfo","fetchUserInfo","_ref","_asyncToGenerator","storedUserInfo","getItem","parsedUserInfo","JSON","parse","error","console","apply","arguments","removeUserInfo","_ref2","navigation","removeItem","log","navigate","_x","children","Navigator","Screen","name","component","options","_ref3","title","headerTitleStyle","styles","headerTitle","headerRight","style","flexDirection","marginRight","container","onPress","_ref4","_ref5","_ref6","create","fontSize","marginHorizontal","backgroundColor","height","padding","borderRadius","alignItems","justifyContent","color","fontWeight"],"sources":["D:/ReactNativeProject/App.js"],"sourcesContent":["// App.js\nimport \"react-native-gesture-handler\";\nimport React, { useContext } from \"react\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { StyleSheet } from \"react-native\";\nimport { CartIcon } from \"./components/CartIcon\";\nimport Login from \"./app/Login\";\nimport { View, Text } from \"react-native\";\nimport ProductList from \"./screens/ProductList\";\nimport ProductDetails from \"./screens/ProductDetails\";\nimport { Store, StoreProvider } from \"./Store\";\nimport { Cart } from \"./screens/Cart\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { useState, useEffect } from \"react\";\nconst Stack = createStackNavigator();\nconst App = () => {\n     const [userInfo, setUserInfo] = useState(\"\");\n    useEffect(() => {\n      const fetchUserInfo = async () => {\n        try {\n          const storedUserInfo = await AsyncStorage.getItem(\"userInfo\");\n          if (storedUserInfo) {\n            const parsedUserInfo = JSON.parse(storedUserInfo);\n            setUserInfo(parsedUserInfo);\n          }\n        } catch (error) {\n          console.error(\"Error fetching user info:\", error);\n        }\n      };\n\n      fetchUserInfo();\n    }, []);\n \n\n  const removeUserInfo = async (navigation) => {\n    try {\n      await AsyncStorage.removeItem(\"userInfo\");\n\n      console.log(\"userInfo removed from AsyncStorage\");\n      navigation.navigate(\"Login\");\n    } catch (error) {\n      console.error(\"Error removing userInfo:\", error);\n    }\n  };\n  return (\n    <StoreProvider>\n      <NavigationContainer>\n        <Stack.Navigator>\n          <Stack.Screen\n            name=\"Products\"\n            component={ProductList}\n            options={({ navigation }) => ({\n              title: \"Online BookStore\", //title of the screen\n              headerTitleStyle: styles.headerTitle, //style of the title\n              headerRight: () => (\n                <View style={{ flexDirection: \"row\", marginRight: 10 }}>\n                  {userInfo ? (\n                    <Text\n                      style={styles.container}\n                      onPress={() => {\n                        removeUserInfo(navigation);\n                      }}\n                    >\n                      LogOut\n                    </Text>\n                  ) : (\n                    <Text\n                      style={styles.container}\n                      onPress={() => {\n                        navigation.navigate(\"Login\");\n                      }}\n                    >\n                      Login\n                    </Text>\n                  )}\n                  <CartIcon navigation={navigation} />\n                </View>\n              ), //adding a cart button to the right of navigation bar\n            })}\n          />\n          <Stack.Screen\n            name=\"ProductDetails\"\n            component={ProductDetails}\n            options={({ navigation }) => ({\n              title: \"Product details\",\n              headerTitleStyle: styles.headerTitle,\n              headerRight: () => (\n                <View style={{ flexDirection: \"row\", marginRight: 10 }}>\n                  {userInfo ? (\n                    <Text\n                      style={styles.container}\n                      onPress={() => {\n                        removeUserInfo(navigation);\n                      }}\n                    >\n                      LogOut\n                    </Text>\n                  ) : (\n                    <Text\n                      style={styles.container}\n                      onPress={() => {\n                        navigation.navigate(\"Login\");\n                      }}\n                    >\n                      Login\n                    </Text>\n                  )}\n                  <CartIcon navigation={navigation} />\n                </View>\n              ),\n            })}\n          />\n          <Stack.Screen\n            name=\"Cart\"\n            component={Cart}\n            options={({ navigation }) => ({\n              title: \"My Cart\",\n              headerTitleStyle: styles.headerTitle,\n            \n            })}\n          />\n          <Stack.Screen\n            name=\"Login\"\n            component={Login}\n            options={({ navigation }) => ({\n              title: \"Login\",\n              headerTitleStyle: styles.headerTitle,\n              headerRight: () => (\n                <View style={{ flexDirection: \"row\", marginRight: 10 }}>\n                  <CartIcon navigation={navigation} />\n                </View>\n              ),\n            })}\n          />\n        </Stack.Navigator>\n      </NavigationContainer>\n    </StoreProvider>\n  );\n};\nconst styles = StyleSheet.create({\n  headerTitle: {\n    fontSize: 20,\n  },\n  container: {\n    marginHorizontal: 8,\n    backgroundColor: \"#007bff\",\n    height: 32,\n    padding: 6,\n    borderRadius: 32 / 2,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    color: \"white\",\n    fontWeight: \"bold\",\n  },\n});\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}